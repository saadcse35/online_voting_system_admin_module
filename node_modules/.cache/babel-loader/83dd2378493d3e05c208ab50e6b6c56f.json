{"ast":null,"code":"var _jsxFileName = \"D:\\\\UniversityFinalProject\\\\frontEnd\\\\src\\\\app\\\\voteApp\\\\Division\\\\DivisionController.js\";\nimport React, { Component } from 'react';\nimport DivisionService from \"./DivisionService\";\nimport NewDivision from './NewDivision';\nimport EditDivision from './EditDivision';\nimport DivisionDetails from \"./DivisionDetails\";\n\nclass Division extends Component {\n  constructor(props) {\n    super(props);\n    this.onSelect = this.onSelect.bind(this);\n    this.onNewDivision = this.onNewDivision.bind(this);\n    this.onEditDivision = this.onEditDivision.bind(this);\n    this.onCancel = this.onCancel.bind(this);\n    this.onCancelEdit = this.onCancelEdit.bind(this);\n    this.onCreateDivision = this.onCreateDivision.bind(this); // this.onUpdateDivision = this.onUpdateDivision.bind(this);\n\n    this.onDeleteDivision = this.onDeleteDivision.bind(this);\n    this.state = {\n      showDetails: false,\n      editDivision: false,\n      selectedDivision: null,\n      newDivision: null\n    };\n  }\n\n  componentDidMount() {\n    this.getDivisions();\n  }\n\n  render() {\n    const divisions = this.state.divisions;\n    if (!divisions) return null;\n    const showDetails = this.state.showDetails;\n    const selectedDivision = this.state.selectedDivision;\n    const newDivision = this.state.newDivision;\n    const editDivision = this.state.editDivision;\n    const listDivisions = divisions.map(division => React.createElement(\"li\", {\n      key: division.link,\n      onClick: () => this.onSelect(division.link),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"division-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, division.code), \"\\xA0|\\xA0 \", division.caption, \"\\xA0|\\xA0 \", division.is_Active));\n    return React.createElement(\"div\", {\n      className: \"Division\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"divsions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, listDivisions), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      name: \"button\",\n      onClick: () => this.onNewDivision(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"New Division\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), newDivision && React.createElement(NewDivision, {\n      onSubmit: this.onCreateDivision,\n      onCancel: this.onCancel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), showDetails && selectedDivision && React.createElement(DivisionDetails, {\n      division: selectedDivision,\n      onEdit: this.onEditDivision,\n      onDelete: this.onDeleteDivision,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), editDivision && selectedDivision && React.createElement(EditDivision, {\n      onSubmit: this.onUpdateDivision,\n      onCancel: this.onCancelEdit,\n      item: selectedDivision,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }));\n  }\n\n  getDivisions() {\n    this.DivisionService.retrieveDivisions().then(divisions => {\n      this.setState({\n        divisions: divisions\n      });\n    });\n  }\n\n  onSelect(divisionLink) {\n    this.clearState();\n    this.DivisionService.getDivision(divisionLink).then(division => {\n      this.setState({\n        showDetails: true,\n        selectedDivision: division\n      });\n    });\n  }\n\n  onCancel() {\n    this.clearState();\n  }\n\n  onNewDivision() {\n    this.clearState();\n    this.setState({\n      newDivision: true\n    });\n  }\n\n  onEditDivision() {\n    this.setState({\n      showDetails: false,\n      editDivision: true,\n      newDivision: null\n    });\n  }\n\n  onCancelEdit() {\n    this.setState({\n      showDetails: true,\n      editDivision: false,\n      newDivision: null\n    });\n  }\n\n  onUpdateItem(division) {\n    this.clearState();\n    this.DivisionService.updateDivision(division).then(division => {\n      this.getDivisions();\n    });\n  }\n\n  onCreateDivision(newDivision) {\n    this.clearState();\n    this.DivisionService.createDivision(newDivision).then(division => {\n      this.getDivisions();\n    });\n  }\n\n  onDeleteDivision(divisionLink) {\n    this.clearState();\n    this.DivisionService.deleteDivision(divisionLink).then(res => {\n      this.getDivisions();\n    });\n  }\n\n  clearState() {\n    this.setState({\n      showDetails: false,\n      selectedDivision: null,\n      editDivision: false,\n      newDivision: null\n    });\n  }\n\n}\n\nexport default Division;","map":{"version":3,"sources":["D:\\UniversityFinalProject\\frontEnd\\src\\app\\voteApp\\Division\\DivisionController.js"],"names":["React","Component","DivisionService","NewDivision","EditDivision","DivisionDetails","Division","constructor","props","onSelect","bind","onNewDivision","onEditDivision","onCancel","onCancelEdit","onCreateDivision","onDeleteDivision","state","showDetails","editDivision","selectedDivision","newDivision","componentDidMount","getDivisions","render","divisions","listDivisions","map","division","link","code","caption","is_Active","onUpdateDivision","retrieveDivisions","then","setState","divisionLink","clearState","getDivision","onUpdateItem","updateDivision","createDivision","deleteDivision","res"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport DivisionService from \"./DivisionService\";\r\nimport NewDivision from './NewDivision';\r\nimport EditDivision from './EditDivision';\r\nimport DivisionDetails from \"./DivisionDetails\";\r\n\r\n\r\nclass Division extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.onSelect = this.onSelect.bind(this);\r\n        this.onNewDivision = this.onNewDivision.bind(this);\r\n        this.onEditDivision = this.onEditDivision.bind(this);\r\n        this.onCancel = this.onCancel.bind(this);\r\n        this.onCancelEdit = this.onCancelEdit.bind(this);\r\n        this.onCreateDivision = this.onCreateDivision.bind(this);\r\n        // this.onUpdateDivision = this.onUpdateDivision.bind(this);\r\n        this.onDeleteDivision = this.onDeleteDivision.bind(this);\r\n        this.state = {\r\n            showDetails: false,\r\n            editDivision: false,\r\n            selectedDivision: null,\r\n            newDivision: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getDivisions();\r\n    }\r\n\r\n    render() {\r\n        const divisions = this.state.divisions;\r\n        if(!divisions) return null;\r\n        const showDetails = this.state.showDetails;\r\n        const selectedDivision = this.state.selectedDivision;\r\n        const newDivision = this.state.newDivision;\r\n        const editDivision = this.state.editDivision;\r\n        const listDivisions = divisions.map((division) =>\r\n            <li key={division.link} onClick={() => this.onSelect(division.link)}>\r\n                <span className=\"division-name\">{division.code}</span>&nbsp;|&nbsp; {division.caption}&nbsp;|&nbsp; {division.is_Active}\r\n            </li>\r\n        );\r\n\r\n        return (\r\n            <div className=\"Division\">\r\n                <ul className=\"divsions\">\r\n                    {listDivisions}\r\n                </ul>\r\n                <br/>\r\n                <button type=\"button\" name=\"button\" onClick={() => this.onNewDivision()}>New Division</button>\r\n                <br/>\r\n                {newDivision && <NewDivision onSubmit={this.onCreateDivision} onCancel={this.onCancel}/>}\r\n                {showDetails && selectedDivision && <DivisionDetails division={selectedDivision} onEdit={this.onEditDivision}  onDelete={this.onDeleteDivision} />}\r\n                {editDivision && selectedDivision && <EditDivision onSubmit={this.onUpdateDivision} onCancel={this.onCancelEdit} item={selectedDivision} />}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    getDivisions() {\r\n        this.DivisionService.retrieveDivisions().then(divisions => {\r\n                this.setState({divisions: divisions});\r\n            }\r\n        );\r\n    }\r\n\r\n    onSelect(divisionLink) {\r\n        this.clearState();\r\n        this.DivisionService.getDivision(divisionLink).then(division => {\r\n                this.setState({\r\n                    showDetails: true,\r\n                    selectedDivision: division\r\n                });\r\n            }\r\n        );\r\n    }\r\n\r\n    onCancel() {\r\n        this.clearState();\r\n    }\r\n\r\n    onNewDivision() {\r\n        this.clearState();\r\n        this.setState({\r\n            newDivision: true\r\n        });\r\n    }\r\n\r\n    onEditDivision() {\r\n        this.setState({\r\n            showDetails: false,\r\n            editDivision: true,\r\n            newDivision: null\r\n        });\r\n    }\r\n\r\n    onCancelEdit() {\r\n        this.setState({\r\n            showDetails: true,\r\n            editDivision: false,\r\n            newDivision: null\r\n        });\r\n    }\r\n\r\n    onUpdateItem(division) {\r\n        this.clearState();\r\n        this.DivisionService.updateDivision(division).then(division => {\r\n                this.getDivisions();\r\n            }\r\n        );\r\n    }\r\n\r\n    onCreateDivision(newDivision) {\r\n        this.clearState();\r\n        this.DivisionService.createDivision(newDivision).then(division => {\r\n                this.getDivisions();\r\n            }\r\n        );\r\n    }\r\n\r\n    onDeleteDivision(divisionLink) {\r\n        this.clearState();\r\n        this.DivisionService.deleteDivision(divisionLink).then(res => {\r\n                this.getDivisions();\r\n            }\r\n        );\r\n    }\r\n\r\n    clearState() {\r\n        this.setState({\r\n            showDetails: false,\r\n            selectedDivision: null,\r\n            editDivision: false,\r\n            newDivision: null\r\n        });\r\n    }\r\n}\r\n\r\nexport default Division;"]},"metadata":{},"sourceType":"module"}